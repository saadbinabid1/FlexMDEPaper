\section{The \emph{metameta} Level: MPS: A Language Meta-Editor}
\label{sec:metameta}

The metameta level (M3, in MOF terms) is where the bricks for our approach are
built. These bricks consist of Domain Specific Languages, defined in the MPS
(Meta Programming System)~\cite{mps} framework. MPS is a stable and
industrially-proven projectional meta-editor. Being a meta-editor, MPS provides edition
capabilities at the meta-levels we need for our approach, in particular M2 and
M1. It uniformly integrates language and editor design capabilities, together
with code generation tools and in-built correct-by-construction tactics such as meta-model
conformance, syntax highlighting, auto-completion or type checking.  
MPS is developed by JetBrains, which assumes the role of \emph{framework
developer}. 

Throughout this paper we will often use vocabulary that is close to that used in
the MPS world in order to remain aligned with the technical aspects of our
work. In particular, the following terms are recurrently used in what follows:

\begin{itemize}
  \item \emph{Language}: an MPS language includes a metamodel, in the classical
  EMF sense. It additionally includes one or more editors for its metamodel,
  which provide concrete syntax. Other aspects of a language
  can be defined and custom new aspects can be
  built by the MPS user (see~\cite{mps} for details).
  \item \emph{Solution}: MPS solutions are projects where users can import
  MPS languages and create their models using those languages.
  \item \emph{Concept}: the MPS equivalent of metamodel class.
  \item \emph{Concept / language instance}: concepts can be instantiated, in
  the same way metamodel classes can. We will also sometimes write
  \emph{language instance} to refer to an instance of the \emph{root} concept of
  an MPS language.
  \item \emph{Intentions}: actions attached to
  concepts of a language, available to the user. 
%   Those actions can be launched by the user when the
%   focus of the editor is on objects which are instances of those concepts.
  \item \textsf{BaseLanguage Java}: most of MPS' complex language operations are
  coded using the predefined \textsf{BaseLanguage} MPS language, a projectional
  replica of Java enriched with MPS-specific constructs.
  \item \emph{Language composition}:  Reference or containment relations can exist between instances of
  concepts of different languages, which is the primary language composition
  mechanism in MPS.
  Additionally, an MPS model can contain instances of concepts
 belonging to many languages, not necessarily referring to each other.
 %which  provides an additional means for language composition.
\end{itemize}

% At this level we had to extend the existing MPS framework with languages to
% define \emph{flow} and a \emph{dashboard}. Additionally, we have provided
% extension points to give the user the possibility to define her own constraints
% that can be used to direct the flow of edition of the composed model.
